<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Push-Up Progress — For Your Friend</title>
</head>  

  <style>
    :root {
      --bg: #000000;
      --card: #0a0014;
      --accent: #a020f0;
      --muted: #b8a3d6;
      --glass: rgba(255, 255, 255, 0.05);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Poppins', system-ui, sans-serif;
      color: #e6e0f9;
      background: linear-gradient(180deg, #000000 0%, #130026 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 32px;
    }
    .wrap { width: 100%; max-width: 980px; }
    header { display: flex; gap: 16px; align-items: center; margin-bottom: 18px; }
    .logo {
      width: 64px; height: 64px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #6a0dad);
      display: flex; align-items: center; justify-content: center;
      color: #fff; font-weight: 700; font-size: 20px;
      box-shadow: 0 0 20px rgba(160, 32, 240, 0.6);
    }
    h1 { margin: 0; font-size: 22px; color: var(--accent); }
    p.lead { margin: 0; color: var(--muted); font-size: 13px; }

    .grid { display: grid; grid-template-columns: 1fr 360px; gap: 18px; }

    .card {
      background: linear-gradient(180deg, var(--card), rgba(10, 0, 20, 0.85));
      padding: 18px;
      border-radius: 12px;
      box-shadow: 0 0 25px rgba(160, 32, 240, 0.2);
    }
    .card h2 { margin: 0 0 8px 0; color: var(--accent); }
    .stats { display: flex; gap: 12px; margin-bottom: 12px; }
    .stat { flex: 1; background: var(--glass); padding: 12px; border-radius: 10px; text-align: center; }
    .stat strong { display: block; font-size: 20px; color: #fff; }
    label { display: block; font-size: 13px; color: var(--muted); margin-bottom: 6px; }
    input[type=number], select {
      width: 100%; padding: 10px; border-radius: 8px; border: none;
      background: rgba(255,255,255,0.07); color: #fff;
    }
    button {
      padding: 10px 12px; border-radius: 10px; border: none;
      background: var(--accent); color: #fff;
      cursor: pointer; font-weight: 600; transition: 0.2s;
    }
    button:hover { box-shadow: 0 0 10px rgba(160, 32, 240, 0.5); }
    button.ghost {
      background: transparent; border: 1px solid rgba(255, 255, 255, 0.1);
      color: var(--muted);
    }
    .controls { display: flex; gap: 8px; align-items: center; }
    .plan { font-size: 13px; color: var(--muted); line-height: 1.5; }
    canvas {
      width: 100%; height: 140px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.04));
      border-radius: 8px;
    }
    footer { margin-top: 12px; text-align: center; color: var(--muted); font-size: 13px; }
    @media (max-width:880px){.grid{grid-template-columns:1fr;}.logo{width:48px;height:48px}}
  </style>
<body>
  <div class="wrap">
    <header>
      <div class="logo">PU</div>
      <div>
        <h1>Push-Up Progress — For Your Friend</h1>
        <p class="lead">Track your push-up strength journey with a clean black & purple theme.</p>
      </div>
    </header>

    <div class="grid">
      <section class="card">
        <h2>Quick test & record</h2>
        <div class="stats" id="stats">
          <div class="stat">
            <small>Current Max</small>
            <strong id="currentMax">—</strong>
            <small style="color:var(--muted)">reps</small>
          </div>
          <div class="stat">
            <small>Sessions</small>
            <strong id="sessionsCount">0</strong>
            <small style="color:var(--muted)">records</small>
          </div>
        </div>

        <label for="repsInput">Record a set (reps)</label>
        <div style="display:flex;gap:8px;margin-bottom:10px">
          <input id="repsInput" type="number" min="1" step="1" placeholder="e.g. 3" />
          <button id="recordBtn">Record</button>
        </div>

        <div style="display:flex;gap:8px;margin-bottom:12px">
          <button id="testBtn" class="ghost">Do a max test</button>
          <button id="exportBtn" class="ghost">Export CSV</button>
          <button id="resetBtn" class="ghost">Reset data</button>
        </div>

        <label>Progress chart</label>
        <canvas id="chart" height="140"></canvas>

        <footer>
          <small>Data is stored locally in your browser. Clearing browser data removes your records.</small>
        </footer>
      </section>

      <aside class="card">
        <h2>8‑Week Starter Plan</h2>
        <p class="plan">Perfect for beginners who can do 1–3 pushups. Train 3× per week (e.g., Mon/Wed/Fri).</p>
        <ol style="margin-top:12px;color:var(--muted)">
          <li><strong>Weeks 1–2:</strong> 3 sets of incline or knee pushups — aim 6–10 reps.</li>
          <li><strong>Weeks 3–4:</strong> Mix knee/full pushups. Add 1 slow-lowering set.</li>
          <li><strong>Weeks 5–6:</strong> Full pushups 3 sets — target 6–12 reps. Add a 4th set if strong.</li>
          <li><strong>Weeks 7–8:</strong> Test your max each week. Add tempo (2s down) and plank finishers.</li>
        </ol>
        <div style="margin-top:12px;display:flex;gap:8px">
          <button id="suggestBtn">Suggest today's session</button>
          <button id="downloadPlan" class="ghost">Download plan</button>
          <a href="https://nkocoding.codes/Form.html" class="ghost"
          style="text-decoration: none;
          border: 1px solid rgba(255, 255, 255, 0.1);
          padding: 10px 12px
          color: var(--muted);
          cursor: pointer; 
          font-weight: 600; 
          transition: 0.2s; 
          text-align: center; 
          display: inline-block;
          "
          >Resport issue</a>
        </div>
      </aside>
    </div>
  </div>
  <script>
    const STORAGE_KEY = 'pushup_sessions_v1';
    const sessEl = document.getElementById('sessionsCount');
    const maxEl = document.getElementById('currentMax');
    const repsInput = document.getElementById('repsInput');
    const recordBtn = document.getElementById('recordBtn');
    const testBtn = document.getElementById('testBtn');
    const resetBtn = document.getElementById('resetBtn');
    const exportBtn = document.getElementById('exportBtn');
    const suggestBtn = document.getElementById('suggestBtn');
    const downloadPlan = document.getElementById('downloadPlan');
    const canvas = document.getElementById('chart');
    const ctx = canvas.getContext('2d');

    function loadSessions() {
      try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || []; } catch { return []; }
    }
    function saveSessions(s) { localStorage.setItem(STORAGE_KEY, JSON.stringify(s)); }

    function addSession(reps) {
      if (!Number.isFinite(reps) || reps < 1) return false;
      const s = loadSessions();
      s.push({ reps: Math.round(reps), at: new Date().toISOString() });
      saveSessions(s);
      render();
      return true;
    }

    function resetData() {
      if (confirm('Reset all saved pushup data?')) { localStorage.removeItem(STORAGE_KEY); render(); }
    }

    function exportCSV() {
      const s = loadSessions();
      if (!s.length) return alert('No data to export.');
      const rows = ['date,reps', ...s.map(it => `${it.at},${it.reps}`)];
      const blob = new Blob([rows.join('\n')], { type: 'text/csv' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'pushup_progress.csv'; a.click();
      URL.revokeObjectURL(url);
    }

    function render() {
      const s = loadSessions();
      sessEl.textContent = s.length;
      const max = s.length ? Math.max(...s.map(x => x.reps)) : 0;
      maxEl.textContent = max || '—';
      drawChart(s);
    }

    function drawChart(data) {
      const w = canvas.width = canvas.clientWidth * devicePixelRatio;
      const h = canvas.height = canvas.clientHeight * devicePixelRatio;
      ctx.clearRect(0, 0, w, h);
      ctx.save(); ctx.scale(devicePixelRatio, devicePixelRatio);
      ctx.fillStyle = 'rgba(255,255,255,0.05)';
      ctx.fillRect(0, 0, canvas.clientWidth, canvas.clientHeight);
      if (!data.length) { ctx.fillStyle = 'rgba(255,255,255,0.3)'; ctx.font = '13px Poppins'; ctx.fillText('No data yet — record a set to start.', 12, 22); ctx.restore(); return; }
      const vals = data.map(d => d.reps);
      const maxVal = Math.max(...vals) + 2;
      const padding = 12;
      const chartW = canvas.clientWidth - padding * 2;
      const chartH = canvas.clientHeight - padding * 2;
      ctx.strokeStyle = 'rgba(160,32,240,0.3)'; ctx.lineWidth = 2;
      ctx.beginPath();
      data.forEach((pt, idx) => {
        const x = padding + (chartW * (idx / (data.length - 1 || 1)));
        const y = padding + chartH * (1 - (pt.reps / maxVal));
        if (idx === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
      });
      ctx.stroke();
      ctx.restore();
    }

    recordBtn.onclick = () => {
      const v = Number(repsInput.value);
      if (!v || v < 1) return alert('Enter a number of reps (1 or more).');
      addSession(v);
      repsInput.value = '';
    };
    testBtn.onclick = () => {
      const n = prompt('Enter your max pushups:');
      if (n === null) return;
      const val = Number(n);
      if (!val || val < 1) return alert('Please enter a valid number.');
      addSession(val);
      alert('Recorded successfully!');
    };
    resetBtn.onclick = resetData;
    exportBtn.onclick = exportCSV;
    suggestBtn.onclick = () => {
      const s = loadSessions();
      const max = s.length ? Math.max(...s.map(x => x.reps)) : 0;
      let msg = '';
      if (max <= 1) msg = 'Try 3 sets of incline pushups — 6 each.';
      else if (max <= 3) msg = '3 sets of knee pushups — 5–8 reps.';
      else if (max <= 8) msg = '3 sets of full pushups — 4–8 reps.';
      else msg = '3 sets at 70% of your max, finish with planks.';
      alert(msg);
    };
    downloadPlan.onclick = () => {
      const text = `8-Week Push-Up Plan\n\nWeeks 1-2: Incline/Knee Pushups (3x per week)\nWeeks 3-4: Mix Knee/Full + Negatives\nWeeks 5-6: Focus Full Pushups\nWeeks 7-8: Add Tempo & Finishers`;
      const blob = new Blob([text], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href = url; a.download = 'pushup_plan.txt'; a.click(); URL.revokeObjectURL(url);
    };

    repsInput.addEventListener('keydown', e => { if (e.key === 'Enter') recordBtn.click(); });

    render();
  </script>
</body>
</html>
